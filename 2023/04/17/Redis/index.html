<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="IntYou">
    
    <meta name="author" content="IntYou">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://evan.beee.top" crossorigin>
    
        
            <link rel="preconnect" href="https://unpkg.com" crossorigin>
        
    
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://intyouss.github.io/2023/04/17/redis/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="Redis 概述 NoSQL  非关系型数据库  类型  键值存储数据库  key-value   列存储数据库  关系型数据库是典型的行存储数据库(MySQL)，按行存储的数据在物理层面占用的时连续的存储空间，不适合海量数据存储。而按列存储则可实现分布式存储，适合海量存储(HBase)   文档型数据库  NoSQL 与 关系型数据库的结合(MangoDB)   图像(Graph)数据库  用于">
<meta property="og:type" content="article">
<meta property="og:title" content="Redis">
<meta property="og:url" content="https://intyouss.github.io/2023/04/17/Redis/index.html">
<meta property="og:site_name" content="IntYou&#39;s Blog">
<meta property="og:description" content="Redis 概述 NoSQL  非关系型数据库  类型  键值存储数据库  key-value   列存储数据库  关系型数据库是典型的行存储数据库(MySQL)，按行存储的数据在物理层面占用的时连续的存储空间，不适合海量数据存储。而按列存储则可实现分布式存储，适合海量存储(HBase)   文档型数据库  NoSQL 与 关系型数据库的结合(MangoDB)   图像(Graph)数据库  用于">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-04-17T01:28:36.000Z">
<meta property="article:modified_time" content="2023-04-18T15:17:21.381Z">
<meta property="article:author" content="IntYou">
<meta property="article:tag" content="Redis Study">
<meta name="twitter:card" content="summary">
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/avatar.jpg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/avatar.jpg">
    <meta name="theme-color" content="#A31F34">
    <link rel="shortcut icon" href="/images/avatar.jpg">
    <!--- Page Info-->
    
    <title>
        
            Redis -
        
        IntYou&#39;s Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="stylesheet" href="https://unpkg.com/hexo-theme-redefine@2.1.1/source/assets/fonts.css">
    <!--- Font Part-->
    
    
    
    

    <!--- Inject Part-->
    
    <script id="hexo-configurations">
    let Global = window.Global || {};
    Global.hexo_config = {"hostname":"intyouss.github.io","root":"/","language":"zh-CN","path":"search.xml"};
    Global.theme_config = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center"},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":["(^_^)"]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":true,"lazyload":true,"recommendation":{"enable":false,"title":"推荐阅读","limit":3,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#A31F34","secondary":null},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"busuanzi_counter":{"enable":true,"site_pv":true,"site_uv":true,"page_pv":true},"pjax":true,"open_graph":true},"home_banner":{"enable":true,"image":{"light":"/images/wallhaven-wqery6-light.webp","dark":"/images/wallhaven-wqery6-dark.webp"},"title":"Change The World As You Know","subtitle":{"text":[],"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"links":{"github":"https://github.com/intyouss","email":"intyou@outlook.com"}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.1.1","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","announcement":null,"links":{"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Tags":{"path":"/tags","icon":"fa-regular fa-tags"},"Categories":{"path":"/categories","icon":"fa-regular fa-folder"}}},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}}};
    Global.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"};
  </script>
    
    <!--- Fontawesome Part-->
    <link rel="stylesheet" href="https://unpkg.com/hexo-theme-redefine@2.1.1/source/fontawesome/fontawesome.min.css">
    <link rel="stylesheet" href="https://unpkg.com/hexo-theme-redefine@2.1.1/source/fontawesome/brands.min.css">
    <link rel="stylesheet" href="https://unpkg.com/hexo-theme-redefine@2.1.1/source/fontawesome/solid.min.css">
    <link rel="stylesheet" href="https://unpkg.com/hexo-theme-redefine@2.1.1/source/fontawesome/regular.min.css">
    
    
    
    
<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="IntYou's Blog" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="main-content-container">

        <div class="main-content-header">
            <header class="navbar-container">
    
    <div class="navbar-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                IntYou&#39;s Blog
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        首页
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="navbar-drawer">
        <ul class="drawer-navbar-list">
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                首页
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            
            
                <div class="article-title">
                    <h1 class="article-title-regular">Redis</h1>
                </div>
            
                
            

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/avatar.jpg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">IntYou</span>
                            
                                <span class="author-label">(^_^)</span>
                            
                        </div>
                        <div class="meta-info">
                            <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2023-04-17 09:28:36</span>
        <span class="mobile">2023-04-17 09:28</span>
        <span class="hover-info">创建</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2023-04-18 23:17:21</span>
            <span class="mobile">2023-04-18 23:17</span>
            <span class="hover-info">更新</span>
        </span>
    

    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Redis-Study/">Redis Study</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content markdown-body">
                <h2 id="Redis-概述"><a href="#Redis-概述" class="headerlink" title="Redis 概述"></a>Redis 概述</h2><hr>
<h3 id="NoSQL"><a href="#NoSQL" class="headerlink" title="NoSQL"></a>NoSQL</h3><hr>
<blockquote>
<p>非关系型数据库</p>
</blockquote>
<h4 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h4><blockquote>
<ol>
<li><p>键值存储数据库</p>
<blockquote>
<p>key-value</p>
</blockquote>
</li>
<li><p>列存储数据库</p>
<blockquote>
<p>关系型数据库是典型的行存储数据库(MySQL)，按行存储的数据在物理层面占用的时连续的存储空间，不适合海量数据存储。而按列存储则可实现分布式存储，适合海量存储(HBase)</p>
</blockquote>
</li>
<li><p>文档型数据库</p>
<blockquote>
<p>NoSQL 与 关系型数据库的结合(MangoDB)</p>
</blockquote>
</li>
<li><p>图像(Graph)数据库</p>
<blockquote>
<p>用于存放一个节点关系的数据库(Neo4J)</p>
</blockquote>
</li>
</ol>
</blockquote>
<h3 id="Redis的用途"><a href="#Redis的用途" class="headerlink" title="Redis的用途"></a>Redis的用途</h3><hr>
<h4 id="数据缓存"><a href="#数据缓存" class="headerlink" title="数据缓存"></a>数据缓存</h4><blockquote>
<p>减小 RT，而且降低 DBMS 的压力</p>
</blockquote>
<h5 id="缓存分类"><a href="#缓存分类" class="headerlink" title="缓存分类"></a>缓存分类</h5><h6 id="实时同步缓存"><a href="#实时同步缓存" class="headerlink" title="实时同步缓存"></a>实时同步缓存</h6><blockquote>
<p>指DBMS中数据更新后，Redis缓存中存放的相关数据会被立即清除，以促使再有对该数据的访问到来时，必须先从DBMS中查询获取到的最新数据，然后再写入到Redis</p>
</blockquote>
<h6 id="阶段性同步缓存"><a href="#阶段性同步缓存" class="headerlink" title="阶段性同步缓存"></a>阶段性同步缓存</h6><blockquote>
<p>指Redis缓存中的数据允许在一段时间内与DBMS中的数据不完全一致，而这个时间段就是这个缓存数据的过期时间</p>
</blockquote>
<h3 id="Redis-的-IO-模型"><a href="#Redis-的-IO-模型" class="headerlink" title="Redis 的 IO 模型"></a>Redis 的 IO 模型</h3><hr>
<blockquote>
<p>Redis 处理客户端请求所采用的处理架构，称为Redis 的 IO 模型</p>
</blockquote>
<h4 id="单线程模型"><a href="#单线程模型" class="headerlink" title="单线程模型"></a>单线程模型</h4><blockquote>
<p>对于 Redis 3.0 及其以前版本，Redis 的 IO模型采用的是纯粹的单线程模型，即所有客户端的请求全部由一个线程处理，Redis 的单线程模型采用了多路复用技术</p>
</blockquote>
<h5 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h5><blockquote>
<p>可维护性高，性能高，不存在并发读写情况，所以也就不存在执行顺序的不确定性，不存在线程切换开销，不存在死锁问题，不存在为了数据安全而进行的枷锁&#x2F;解锁开销问题</p>
</blockquote>
<h5 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h5><blockquote>
<p>性能会受到影响，且由于单线程只使用一个处理器，所以会形成处理器浪费</p>
</blockquote>
<h4 id="多线程模型"><a href="#多线程模型" class="headerlink" title="多线程模型"></a>多线程模型</h4><blockquote>
<p>从 Redis 6.0 版本开始。处理客户端请求的仍是单线程模型，但对于一些比较耗时担又不影响对客户端的响应的操作，就由后台其他线程来处理。</p>
</blockquote>
<h5 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h5><blockquote>
<p>其结合了多线程与单线程的优点，避开了他们的不足</p>
</blockquote>
<h5 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h5><blockquote>
<p>该模型并非是一个真正意义上的多线程，因为真正处理任务的线程仍是单线程。所以，其对性能也是有些影响的</p>
</blockquote>
<h2 id="Redis-的配置"><a href="#Redis-的配置" class="headerlink" title="Redis 的配置"></a>Redis 的配置</h2><hr>
<h3 id="INCLUDE"><a href="#INCLUDE" class="headerlink" title="INCLUDE"></a>INCLUDE</h3><hr>
<blockquote>
<p>指定要在当前配置文件中包含的配置文件。这样做的目的主要是便于配置信息管理，可以将不同场景的配置都进行单独定义，然后在当前核心配置文件中根据不同场景选择包含进不同的配置文件。</p>
<p><em>想要使用外部配置文件覆盖,可以在Redis配置文件的文件末尾 include</em></p>
<p>例：<code>include /xxx/xxx.conf</code></p>
</blockquote>
<h3 id="MODULES"><a href="#MODULES" class="headerlink" title="MODULES"></a>MODULES</h3><hr>
<blockquote>
<p>加载不同的第三方模块，来增强，扩展 Redis 的功能</p>
<p>例：<code>loadmodule /xxx/xxx/xxx/xxx.so</code></p>
</blockquote>
<h3 id="NETWORK"><a href="#NETWORK" class="headerlink" title="NETWORK"></a>NETWORK</h3><hr>
<blockquote>
<p>网络配置</p>
</blockquote>
<h4 id="tcp-backlog"><a href="#tcp-backlog" class="headerlink" title="tcp-backlog"></a>tcp-backlog</h4><blockquote>
<p>tcp-backlog 是一个 TCP 连接队列，其主要用于解决高并发场景下客户端慢连接问题。配置中设置的值就是这个队列的长度。该队列与 TCP 连接的三次握手有关。不同的 Linux 内核，backlog 队列中存放的元素(客户端连接)类型是不同的</p>
</blockquote>
<ul>
<li><p>Linux 内核 2.2 版本之前</p>
<blockquote>
<p>该队列中存放的是已完成了第一次握手的所有客户端连接，其中就包含已完成三次握手的客户端连接。当然，此时的 backlog 队列中的连接也具有两种状态：未完成三次握手的连接状态为 <code>SYN_RECEIVED</code> ，已完成三次握手的连接状态为<code>ESTABLISHED</code> 。只有 <code>ESTABLISHED</code> 状态的连接才会被 Redis 处理。</p>
</blockquote>
</li>
<li><p>Linux 内核 2.2 版本之后</p>
<blockquote>
<p>TCP 系统中维护了两个队列：<code>SYN_RECEIVED</code> 队列与 <code>ESTABLISHED</code> 队列。<code>SYN_RECEIVED</code> 队列中存放的是未完成的三次握手的连接，<code>ESTABLISHED</code> 队列中存放的是已完成三次握手的连接。此时的 backlog 就是 <code>ESTABLISHED</code> 队列</p>
</blockquote>
</li>
<li><p>TCP 中的 backlog 队列的长度在 Linux 中由内核参数 somaxconn 来决定。在 Redis 中该队列的长度由 Redis 配置文件设置 与 somaxconn 共同决定：取它们中的最小值。</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 Linux 内核中 somaxconn 的值</span></span><br><span class="line"><span class="built_in">cat</span> /proc/sys/net/core/somaxconn</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>生产环境下(特别是高并发场景下)，backlog 的值最好要大一些，否则可能会影响系统性能</p>
</blockquote>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改somaxconn的值</span></span><br><span class="line">vim /etc/sysctl.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加</span></span><br><span class="line">net.core.somaxconn=2048</span><br><span class="line"></span><br><span class="line"><span class="comment"># 动态重新加载配置</span></span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h3 id="GENERAL"><a href="#GENERAL" class="headerlink" title="GENERAL"></a>GENERAL</h3><hr>
<blockquote>
<p>通用配置</p>
</blockquote>
<h4 id="daemonize"><a href="#daemonize" class="headerlink" title="daemonize"></a>daemonize</h4><blockquote>
<p>控制 Redis 启动是否采用守护进程方式，即是否是后台启动</p>
</blockquote>
<h4 id="pidfile"><a href="#pidfile" class="headerlink" title="pidfile"></a>pidfile</h4><blockquote>
<p>指定 Redis 允许是 pid 写入的文件，无论 Redis 是否采用守护进程方式启动，pid 都会写入到该配置文件</p>
<p>注意</p>
<ul>
<li><p>如果没有配置 pid 文件，不同的启动方式，pid 文件的产生效果是不同的</p>
<ul>
<li><p>采用守护进程方式启动(后台启动，daemonize 为 yes)——pid 文件为<code>/var/run/redis.pid</code></p>
</li>
<li><p>采用前台启动——不生产 pid 文件</p>
</li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="loglevel"><a href="#loglevel" class="headerlink" title="loglevel"></a>loglevel</h4><blockquote>
<p>日志等级</p>
</blockquote>
<h4 id="logfile"><a href="#logfile" class="headerlink" title="logfile"></a>logfile</h4><blockquote>
<p>指定日志文件。如果设置为空串，则强制将日志记录到标准输出设备(显示器)。如果使用的是前台启动方式，设置为空串，则意味着会将日志发送到设备<code>/dev/null(空设备)</code></p>
</blockquote>
<h4 id="databases"><a href="#databases" class="headerlink" title="databases"></a>databases</h4><blockquote>
<p>设置数据库数量</p>
</blockquote>
<h4 id="security"><a href="#security" class="headerlink" title="security"></a>security</h4><blockquote>
<p>用户设置 ACL 权限，Redis 访问密码相关配置。该模块中最常用的就是 requirepass 属性</p>
</blockquote>
<h3 id="CLIENTS"><a href="#CLIENTS" class="headerlink" title="CLIENTS"></a>CLIENTS</h3><hr>
<blockquote>
<p>设置与客户端相关的属性</p>
</blockquote>
<h4 id="maxclients"><a href="#maxclients" class="headerlink" title="maxclients"></a>maxclients</h4><blockquote>
<p>设置Redis可并发处理的客户端连接数量，默认为10000，如果达到该最大连接数，则会拒绝再来的新连接，并返回一个异常消息：已达到最大连接数</p>
<p>注意</p>
<ul>
<li>该值不能超过 Linux 系统支持的可打开的文件描述符最大数量阈值</li>
</ul>
</blockquote>
<h3 id="MEMORY-MANAGEMENT"><a href="#MEMORY-MANAGEMENT" class="headerlink" title="MEMORY MANAGEMENT"></a>MEMORY MANAGEMENT</h3><hr>
<blockquote>
<p>控制最大可用内存及相关移除问题</p>
</blockquote>
<h4 id="maxmemory"><a href="#maxmemory" class="headerlink" title="maxmemory"></a>maxmemory</h4><blockquote>
<p>将内存使用限制设置为指定的字节数，当达到内存限制时，REdis 将根据选择的逐出策略 maxmemory-poilcy 尝试删除符合条件的key</p>
<p>如果不能按照逐出策略移除key，则会给写操作命令返回error，但对于只读的命令是没有影响的</p>
</blockquote>
<h3 id="Threaded-I-x2F-O"><a href="#Threaded-I-x2F-O" class="headerlink" title="Threaded I&#x2F;O"></a>Threaded I&#x2F;O</h3><blockquote>
<p>配置 Redis 对多线程 IO 模型的支持</p>
</blockquote>
<h2 id="Redis-命令"><a href="#Redis-命令" class="headerlink" title="Redis 命令"></a>Redis 命令</h2><hr>
<h3 id="Redis-基本命令"><a href="#Redis-基本命令" class="headerlink" title="Redis 基本命令"></a>Redis 基本命令</h3><hr>
<ol>
<li><p><code>dbsize</code> 查询当前数据库内容长度</p>
</li>
<li><p><code>flushdb</code> 删除当前数据库中所有数据</p>
</li>
<li><p><code>flushall</code> 删除所有数据库中所有数据</p>
</li>
<li><p><code>ping</code> 心跳命令，检测客户端与 Redis 的连接是否正常</p>
</li>
<li><p><code>set &lt;key&gt; &lt;value&gt;</code> 将指定key-value 写入到当前DB</p>
</li>
<li><p><code>get &lt;key&gt;</code> 读取指定key的value值</p>
</li>
<li><p><code>select 5</code> 选择数据库</p>
</li>
<li><p><code>quit/exit</code> 退出Redis客户端</p>
</li>
<li><p><code>redis-cli shutdown</code> 关闭Redis服务</p>
</li>
</ol>
<h3 id="Key操作命令"><a href="#Key操作命令" class="headerlink" title="Key操作命令"></a>Key操作命令</h3><hr>
<h4 id="keys"><a href="#keys" class="headerlink" title="keys"></a>keys</h4><ul>
<li>格式 <code>KEYS pattern</code></li>
</ul>
<blockquote>
<p>查找所有符合给定模式 pattern 的 key, pattern 为正则表达式</p>
<p>KEYS 的速度非常快，但在一个大的数据库中使用它可能会阻塞当前服务器的服务。所以生产环境中一般不使用该命令，而使用 scan 命令代替</p>
</blockquote>
<h4 id="exists"><a href="#exists" class="headerlink" title="exists"></a>exists</h4><ul>
<li>格式 <code>EXISTS key</code></li>
</ul>
<blockquote>
<p>检查给定 key 是否存在</p>
<p>若 key 存在，返回 1，反之 0</p>
</blockquote>
<h4 id="del"><a href="#del" class="headerlink" title="del"></a>del</h4><ul>
<li>格式 <code>DEL key [key ...]</code></li>
</ul>
<blockquote>
<p>删除给定的一个或多个 key。不存在的 key 会被忽略</p>
<p>返回被删除 key 的数量</p>
</blockquote>
<h4 id="rename"><a href="#rename" class="headerlink" title="rename"></a>rename</h4><ul>
<li>格式 <code>RENAME key newKey</code></li>
</ul>
<blockquote>
<p>将 key 改为 newKey</p>
<p>当 key 与 newKey 相同，或者 key 不存在时，返回一个错误。当 newkey 已经存在时，RENAME 命令将覆盖旧值。改名成功后提示 OK，失败时候返回一个错误</p>
</blockquote>
<h4 id="move"><a href="#move" class="headerlink" title="move"></a>move</h4><ul>
<li>格式 <code>MOVE key db</code></li>
</ul>
<blockquote>
<p>将当前数据库的 key 移动到给定的数据库 db 当中</p>
<p>如果当前数据库(源数据库)和给定数据库(目标数据库)有相同名字的给定 key，或者 key 不存在于当前数据库，那么 MOVE 没有任何效果，移动成功返回 1，反之 0</p>
</blockquote>
<h4 id="type"><a href="#type" class="headerlink" title="type"></a>type</h4><ul>
<li>格式 <code>TYPE key</code></li>
</ul>
<blockquote>
<p>返回 key 所储存的值的类型</p>
<p>返回值有以下六种</p>
<ul>
<li><p>none(key 不存在)</p>
</li>
<li><p>string</p>
</li>
<li><p>list</p>
</li>
<li><p>set</p>
</li>
<li><p>zset</p>
</li>
<li><p>hash</p>
</li>
</ul>
</blockquote>
<h4 id="expire-与-pexpire"><a href="#expire-与-pexpire" class="headerlink" title="expire 与 pexpire"></a>expire 与 pexpire</h4><ul>
<li>格式 <code>EXPIRE key seconds</code></li>
</ul>
<blockquote>
<p>为给定 key 设置生存时间。当 key 过期时(生存时间为 0)，它会被自动删除。expire 的时间单位为秒，pexpire 的时间单位为毫秒。在 Redis 中，带有生存时间的 key 被称为’易失的’(volatile)</p>
</blockquote>
<h4 id="ttl-与-pttl"><a href="#ttl-与-pttl" class="headerlink" title="ttl 与 pttl"></a>ttl 与 pttl</h4><ul>
<li>格式 <code>TTL key</code></li>
</ul>
<blockquote>
<p>TTL，time to live，返回给定 key 的剩余生存时间</p>
<p>其返回值存在三种可能</p>
<ul>
<li><p>当 key 不存在时，返回 -2</p>
</li>
<li><p>当 key 存在但没有设置剩余生存时间时，返回 -1</p>
</li>
<li><p>否则，返回 key 的剩余生存时间，ttl 命令返回的时间单位为秒，而 pttl 命令返回的时间单位为毫秒</p>
</li>
</ul>
</blockquote>
<h4 id="persist"><a href="#persist" class="headerlink" title="persist"></a>persist</h4><ul>
<li>格式 <code>persist key</code></li>
</ul>
<blockquote>
<p>去除给定 key 的生存时间，将这个 key 从’易失的’转换成’持久的’</p>
<p>当生存时间移除成功时，返回 1；若 key 不存在或 key 没有设置生存时间，则返回 0</p>
</blockquote>
<h4 id="randomkey"><a href="#randomkey" class="headerlink" title="randomkey"></a>randomkey</h4><ul>
<li>格式 <code>RANDOMKEY</code></li>
</ul>
<blockquote>
<p>从当前数据库中随机返回(不删除)一个key</p>
<p>当前数据库不为空时，返回一个 key。当数据库为空时，返回nil</p>
</blockquote>
<h4 id="scan"><a href="#scan" class="headerlink" title="scan"></a>scan</h4><ul>
<li>格式 <code>SCAN cursor [MATCH pattern] [COUNT count] [TYPE type]</code></li>
</ul>
<blockquote>
<p>用于迭代数据库中的 key</p>
<ul>
<li><p>cursor：本次迭代开始的游标</p>
</li>
<li><p>pattern：本次迭代要匹配的 key 的模式</p>
</li>
<li><p>count：本次迭代要从数据集里返回多少元素，默认值为 10</p>
</li>
<li><p>type：本次迭代要返回的 value 的类型，默认为所有类型</p>
</li>
</ul>
<p>使用间断的，负数，超出范围的或者其他非正常的游标来执行增量式迭代</p>
<p>不会造成服务器崩溃。</p>
<p>当数据量很大时，count 的数据量的指定可能会不起作用，Redis 会自动调整每次的遍历数目。由于 scan 命令每次执行都只会返回少量元素，所以该命令可以用于生产环境</p>
</blockquote>
<h3 id="String-型-Value-操作命令"><a href="#String-型-Value-操作命令" class="headerlink" title="String 型 Value 操作命令"></a>String 型 Value 操作命令</h3><hr>
<h4 id="set"><a href="#set" class="headerlink" title="set"></a>set</h4><ul>
<li>格式 <code>SET key value [EX seconds | PX milliseconds] [NX|XX]</code></li>
</ul>
<blockquote>
<p>SET 除了可以直接将 key 的值设为 value 外，还可以指定一些参数</p>
<ul>
<li><p>EX seconds：为当前 key 设置过期时间，单位秒。等价于 SETEX 命令</p>
</li>
<li><p>PX milliseconds：为当前 key 设置过期时间，单位毫秒。等价于 PSETEX 命令</p>
</li>
<li><p>NX：指定的 key 不存在才会设置成功，用于添加指定的 key。等价于 SETNX 命令</p>
</li>
<li><p>XX：指定的 key 必须存在才会设置成功，用于更新指定 key 的 value</p>
</li>
</ul>
</blockquote>
<h4 id="getset"><a href="#getset" class="headerlink" title="getset"></a>getset</h4><ul>
<li>格式 <code>GETSET key value</code></li>
</ul>
<blockquote>
<p>将给定 key 的值设置为value，并返回 key 的旧值</p>
<p>当 key 存在但不是字符串类型时，返回一个错误；当 key 不存在时，返回nil</p>
</blockquote>
<h4 id="mset-与-msetnx"><a href="#mset-与-msetnx" class="headerlink" title="mset 与 msetnx"></a>mset 与 msetnx</h4><ul>
<li>格式 <code>MSET/MSETNX key value [key value ...]</code></li>
</ul>
<blockquote>
<p>同时设置一个或多个 key-value 对</p>
<p>如果某个给定 key 已经存在，那么 MSET 会用新值覆盖原来的旧值，如果这不是你所希望的效果，请考虑使用 MSETNX 命令；他只会在所有给定 key 都不存在的情况下进行操作操作，某些给定 key 被更新而另一些给定 key 没有改变的情况不可发生</p>
</blockquote>
<h4 id="mget"><a href="#mget" class="headerlink" title="mget"></a>mget</h4><ul>
<li>格式 <code>MGET key [key ...]</code></li>
</ul>
<blockquote>
<p>返回(一个或多个)给定 key 的值</p>
<p>如果给定的 key 里面，有某个 key 不存在，那么这个 key 返回特殊值 nil，因此，该命令永不失败</p>
</blockquote>
<h4 id="append"><a href="#append" class="headerlink" title="append"></a>append</h4><ul>
<li>格式 <code>APPEND key value</code></li>
</ul>
<blockquote>
<p>如果 key 已经存在并且是一个字符串，APPEND 命令将 value 追加到 key 原来的值的末尾。如果 key 不存在，append 就简单的将给定的 key 设为 value，就像执行 SET key value 一样</p>
<p>追加之后，返回 key 中字符串的长度</p>
</blockquote>
<h4 id="incr-与-decr"><a href="#incr-与-decr" class="headerlink" title="incr 与 decr"></a>incr 与 decr</h4><ul>
<li>格式 <code>incr key</code> 或 <code>decr key</code></li>
</ul>
<blockquote>
<p>increment 自动递增，将 key 中存储的数字值增一</p>
<p>decrement 自动递减，将 key 中存储的数字值减一</p>
<p>如果 key 不存在，那么 key 的值会先被初始化为 0，然后在执行增一&#x2F;减一操作。如果值不能表示为数字，那么返回一个错误提示。如果执行正确，则返回增一&#x2F;减一后的值</p>
</blockquote>
<h4 id="incrby-与-decrby"><a href="#incrby-与-decrby" class="headerlink" title="incrby 与 decrby"></a>incrby 与 decrby</h4><ul>
<li>格式 <code>incrby key increment</code> 或 <code>decrby key decrement</code></li>
</ul>
<blockquote>
<p>将 key 中存储的数字值增加&#x2F;减少指定的数值，这个数值只能是整数，可以是负数，但不能是小数</p>
<p>如果 key 不存在，那么 key 的值会先被初始化 0，然后再执行操作，同 incr&#x2F;decr</p>
</blockquote>
<h4 id="incrbyfloat"><a href="#incrbyfloat" class="headerlink" title="incrbyfloat"></a>incrbyfloat</h4><ul>
<li>格式 <code>incrbyfloat key increment</code></li>
</ul>
<blockquote>
<p>为 key 中所储存的值加上浮点数增量，没有 decrbyfloat</p>
</blockquote>
<h4 id="strlen"><a href="#strlen" class="headerlink" title="strlen"></a>strlen</h4><ul>
<li>格式 <code>strlen key</code></li>
</ul>
<blockquote>
<p>查看 key 中字符串长度</p>
</blockquote>
<h4 id="getrange"><a href="#getrange" class="headerlink" title="getrange"></a>getrange</h4><ul>
<li>格式 <code>getrange key start end</code></li>
</ul>
<blockquote>
<p>返回 key 中字符串值的子字符串，字符串的截取范围由 start 和 end 两个偏移量决定，包括 start 和 end 在内</p>
<p>end 必须要比 start 大，支持负数偏移量，表示从字符串最后开始计数，-1 表示最后一个字符，以此类推</p>
</blockquote>
<h4 id="setrange"><a href="#setrange" class="headerlink" title="setrange"></a>setrange</h4><ul>
<li>格式 <code>setrange key offset value</code></li>
</ul>
<blockquote>
<p>用 offset 参数替换给定 key 所储存的字符串值 str，从偏移量 offset 开始</p>
<p>当 offset 值大于 str 长度时，中间使用零字节\x00填充，对于不存在的 key 当作空串处理</p>
</blockquote>
<h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><hr>
<h4 id="数据缓存-1"><a href="#数据缓存-1" class="headerlink" title="数据缓存"></a>数据缓存</h4><blockquote>
<p>Redis 作为数据缓存层，MySQL 作为数据存储层。应用服务器首先从 Redis 中获取数据，如果缓存层中没有，则从 MySQL 中获取后先存入缓存层再返回给应用服务器</p>
</blockquote>
<h4 id="共享-Session"><a href="#共享-Session" class="headerlink" title="共享 Session"></a>共享 Session</h4><blockquote>
<p>对于一个分布式应用系统，如果将类似用户登陆信息这样的 Session 数据保存在提供登陆服务的服务器中，那么如果用户再次提交像收藏，支付等请求时可能会出现的问题：在提供收藏，支付等服务的服务器中并没有该用户的 Session 数据，从而导致该用户需要重新登录。对于用户来说这是不能接受的。</p>
<p>此时，可以将系统中所有用户的 Session 数据全部保存到 Redis 中，用户在提交新的请求后，系统先从 Redis 中查找相应的 Session 数据，如果存在，则再进行相关操作，否则跳转到登录页面。这样就不会引发’重新登录问题’</p>
</blockquote>
<h4 id="限制器"><a href="#限制器" class="headerlink" title="限制器"></a>限制器</h4><blockquote>
<p>Redis 可以结合 key 的过期时间与 incr 命令来完成限速，防止 DoS 攻击</p>
</blockquote>
<h3 id="Hash-型-Value-操作命令"><a href="#Hash-型-Value-操作命令" class="headerlink" title="Hash 型 Value 操作命令"></a>Hash 型 Value 操作命令</h3><hr>
<blockquote>
<p>Hash 表就是一个映射表 Map，也是由键-值对构成的，为了与整体的 key 进行区分，这里的键称为 field，值称为 value。注意，Redis 的 Hash 表中的 field-value 对均为 String 类型</p>
</blockquote>
<h4 id="hset"><a href="#hset" class="headerlink" title="hset"></a>hset</h4><ul>
<li>格式 <code>HSET key field value</code></li>
</ul>
<blockquote>
<p>将 hash 表 key 中的域 field 的值设为 value</p>
<p>如果 key 不存在，一个新的哈希表被创建并进行 HSET 操作，返回1。已存在则覆盖，返回0</p>
</blockquote>
<h4 id="hget"><a href="#hget" class="headerlink" title="hget"></a>hget</h4><ul>
<li>格式 <code>hget key &lt;field&gt;</code></li>
</ul>
<blockquote>
<p>同 String</p>
</blockquote>
<h4 id="hmset"><a href="#hmset" class="headerlink" title="hmset"></a>hmset</h4><ul>
<li>格式 <code>hmset key field value [field value ...]</code></li>
</ul>
<blockquote>
<p>同 String</p>
</blockquote>
<h4 id="hmget"><a href="#hmget" class="headerlink" title="hmget"></a>hmget</h4><ul>
<li>格式 <code>hmget key field [field ...]</code></li>
</ul>
<blockquote>
<p>同 String</p>
</blockquote>
<h4 id="hgetall"><a href="#hgetall" class="headerlink" title="hgetall"></a>hgetall</h4><ul>
<li>格式 <code>hgetall key</code></li>
</ul>
<blockquote>
<p>获取 key 中所有 field 和 value 值</p>
</blockquote>
<h4 id="hkeys"><a href="#hkeys" class="headerlink" title="hkeys"></a>hkeys</h4><ul>
<li>格式 <code>hkeys key</code></li>
</ul>
<blockquote>
<p>获取 key 中所有 field 值</p>
</blockquote>
<h4 id="hlen"><a href="#hlen" class="headerlink" title="hlen"></a>hlen</h4><ul>
<li>格式 <code>hlen key</code></li>
</ul>
<blockquote>
<p>获取 key 的 长度</p>
</blockquote>
<h4 id="略-大多与String命令同"><a href="#略-大多与String命令同" class="headerlink" title="略(大多与String命令同)"></a>略(大多与String命令同)</h4><h4 id="应用场景-1"><a href="#应用场景-1" class="headerlink" title="应用场景"></a>应用场景</h4><blockquote>
<p>存储对象数据，对对象属性的修改再&#x3D;在 Redis 中就可以直接完成，其不像 String 型 Value 存储对象，那个对象是序列化过的，例如序列化为 JSON 串，对对象属性值的修改需要先反序列化为对象后再修改，修改后再序列化为 JSON 串后写入到 Redis</p>
</blockquote>
<h3 id="List-型-Value-操作命令"><a href="#List-型-Value-操作命令" class="headerlink" title="List 型 Value 操作命令"></a>List 型 Value 操作命令</h3><hr>
<h4 id="lpush-x2F-rpush"><a href="#lpush-x2F-rpush" class="headerlink" title="lpush&#x2F;rpush"></a>lpush&#x2F;rpush</h4><ul>
<li>格式 <code>LPUSH key value [value ...]</code> 或 <code>RPUSH key value [value ...]</code></li>
</ul>
<blockquote>
<p>表头&#x2F;表尾添加元素</p>
</blockquote>
<h4 id="linsert"><a href="#linsert" class="headerlink" title="linsert"></a>linsert</h4><ul>
<li>格式 <code>LINSERT key BEFORE|AFTER pivot value</code></li>
</ul>
<blockquote>
<p>将值 value 插入到列表 ley 当中，位于元素 pivot 之前或之后</p>
</blockquote>
<h4 id="lpop-x2F-rpop"><a href="#lpop-x2F-rpop" class="headerlink" title="lpop&#x2F;rpop"></a>lpop&#x2F;rpop</h4><ul>
<li>格式 <code>LPOP key [count]</code> 或 <code>RPOP key [count]</code></li>
</ul>
<blockquote>
<p>从列表 key 的表头&#x2F;表尾移除 count 个元素，并返回移除的元素，count 默认值 1</p>
<p>当 key 不存在时，返回 nil</p>
</blockquote>
<h4 id="blpop-x2F-brpop"><a href="#blpop-x2F-brpop" class="headerlink" title="blpop&#x2F;brpop"></a>blpop&#x2F;brpop</h4><ul>
<li>格式 <code>Blpop key [key ...] timeout</code> 或 <code>brpop key [key ..] timeout</code></li>
</ul>
<blockquote>
<p>列表的阻塞式(blocking)弹出，命令。它们是 LPOP&#x2F;RPOP 的阻塞版本，当给定列表内没有任何元素可供弹出的时候，连接将被 BLpop&#x2F;Brpop 命令阻塞，知道等待 timeout 超时或发现可弹出元素为止</p>
</blockquote>
<h4 id="rpoplpush"><a href="#rpoplpush" class="headerlink" title="rpoplpush"></a>rpoplpush</h4><ul>
<li>格式 <code>rpoplpush source destnation</code></li>
</ul>
<blockquote>
<p>将source 列表的尾元素，放到 destnation 列表的表头</p>
</blockquote>
<h4 id="brpoplpush"><a href="#brpoplpush" class="headerlink" title="brpoplpush"></a>brpoplpush</h4><blockquote>
<p>rpoplpush 的阻塞版本</p>
</blockquote>
<h4 id="lrem"><a href="#lrem" class="headerlink" title="lrem"></a>lrem</h4><ul>
<li>格式 <code>lrem key count value</code></li>
</ul>
<blockquote>
<p>根据参数 count 的值，移除列表中与参数 value 相等的元素</p>
<p>count值为下列几种</p>
<ul>
<li><p>count &gt; 0：从表头开始向表尾搜索，移除与 value 相等的元素，数量为 count</p>
</li>
<li><p>count &lt; 0：从表尾开始向表头搜索</p>
</li>
<li><p>count &#x3D; 0：移除表中所有与 value 相等的值</p>
</li>
</ul>
<p>返回被移除元素的数量，当 key 不存在时，返回 0</p>
</blockquote>

            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul>
        <li><strong>标题:</strong> Redis</li>
        <li><strong>作者:</strong> IntYou</li>
        <li><strong>创建于:</strong> 2023-04-17 09:28:36</li>
        
            <li>
                <strong>更新于:</strong> 2023-04-18 23:17:21
            </li>
        
        <li>
            <strong>链接:</strong> https://intyou.netlify.app/2023/04/17/Redis/
        </li>
        <li>
            <strong>版权声明:</strong> 本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a> 进行许可。
        </li>
    </ul>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/Redis-Study/">#Redis Study</a>&nbsp;
                        </li>
                    
                </ul>
            

            

            
                <div class="article-nav">
                    
                    
                        <div class="article-next">
                            <a class="next"
                            rel="next"
                            href="/2023/04/12/MySQL/"
                            >
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">MySQL</span>
                                    <span class="post-nav-item">下一篇</span>
                                </span>
                                <span class="right arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                    
                </div>
            


            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">此页目录</div>
        <div class="page-title">Redis</div>
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-%E6%A6%82%E8%BF%B0"><span class="nav-text">Redis 概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#NoSQL"><span class="nav-text">NoSQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Redis%E7%9A%84%E7%94%A8%E9%80%94"><span class="nav-text">Redis的用途</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Redis-%E7%9A%84-IO-%E6%A8%A1%E5%9E%8B"><span class="nav-text">Redis 的 IO 模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="nav-text">Redis 的配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#INCLUDE"><span class="nav-text">INCLUDE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MODULES"><span class="nav-text">MODULES</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NETWORK"><span class="nav-text">NETWORK</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GENERAL"><span class="nav-text">GENERAL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CLIENTS"><span class="nav-text">CLIENTS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MEMORY-MANAGEMENT"><span class="nav-text">MEMORY MANAGEMENT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Threaded-I-x2F-O"><span class="nav-text">Threaded I&#x2F;O</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-%E5%91%BD%E4%BB%A4"><span class="nav-text">Redis 命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Redis-%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="nav-text">Redis 基本命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Key%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="nav-text">Key操作命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#String-%E5%9E%8B-Value-%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="nav-text">String 型 Value 操作命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">应用场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hash-%E5%9E%8B-Value-%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="nav-text">Hash 型 Value 操作命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#List-%E5%9E%8B-Value-%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="nav-text">List 型 Value 操作命令</span></a></li></ol></li></ol>

    </div>
</div>
            </div>
        
    </div>
</div>


                

            </div>
            
            

        </div>

        <div class="main-content-footer">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info">
            &copy;
            
              <span>2023</span>
              -
            
            2023&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">IntYou</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv" class="busuanzi_container_site_uv">
                        访问人数&nbsp;<span id="busuanzi_value_site_uv" class="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="busuanzi_container_site_pv">
                        总访问量&nbsp;<span id="busuanzi_value_site_pv" class="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            <span class="powered-by-container">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" href="https://hexo.io">Hexo</a> 驱动</span>
                <br>
            <span class="theme-version-container">主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.1.1</a>
        </div>
        
        
        
            <div id="start_div" style="display:none">
                2023/3/1 11:45:14
            </div>
            <div>
                博客已运行 <span class="odometer" id="runtime_days" ></span> 天 <span class="odometer" id="runtime_hours"></span> 小时 <span class="odometer" id="runtime_minutes"></span> 分钟 <span class="odometer" id="runtime_seconds"></span> 秒
            </div>
        
        
        
            <script async data-pjax>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-expand-width flex-center">
            <i class="fa-regular fa-expand"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fa-solid fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fa-solid fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    


</main>



<script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/utils.js"></script><script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/main.js"></script><script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/layouts/navbarShrink.js"></script><script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/tools/scrollTopBottom.js"></script><script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/tools/lightDarkSwitch.js"></script>


    <script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/tools/localSearch.js"></script>



    <script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/tools/codeBlock.js"></script>



    <script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/layouts/lazyload.js"></script>



    <script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/tools/runtime.js"></script>
    <script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/layouts/odometer.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/hexo-theme-redefine@2.1.1/source/assets/odometer-theme-minimal.css">



  <script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/libs/Typed.min.js"></script>
  <script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/plugins/typed.js"></script>






<div class="post-scripts pjax">
    
        <script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/tools/tocToggle.js"></script><script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/libs/anime.min.js"></script><script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/layouts/toc.js"></script><script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/plugins/tabs.js"></script>
    
</div>


    <script src="https://unpkg.com/hexo-theme-redefine@2.1.1/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax',
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            Global.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            Global.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            Global.refresh();
        });
    });
</script>




</body>
</html>
